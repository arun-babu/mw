<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="473px" preserveAspectRatio="none" style="width:297px;height:473px;" version="1.1" viewBox="0 0 297 473" width="297px" zoomAndPan="magnify"><defs><filter height="300%" id="f1x2fyjneghjlg" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1x2fyjneghjlg)" height="31.1328" style="stroke: #000000; stroke-width: 2.0;" width="273.5" x="13" y="190.3594"/><rect fill="#FFFFFF" filter="url(#f1x2fyjneghjlg)" height="31.1328" style="stroke: #000000; stroke-width: 2.0;" width="273.5" x="13" y="413.6875"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="51" x2="51" y1="38.2969" y2="228.4922"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="51" x2="51" y1="228.4922" y2="256.4922"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="51" x2="51" y1="256.4922" y2="461.8203"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="227.5" x2="227.5" y1="38.2969" y2="228.4922"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="227.5" x2="227.5" y1="228.4922" y2="256.4922"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="227.5" x2="227.5" y1="256.4922" y2="461.8203"/><rect fill="#FEFECE" filter="url(#f1x2fyjneghjlg)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="52" x="23" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="38" x="30" y="22.9951">entity</text><rect fill="#FEFECE" filter="url(#f1x2fyjneghjlg)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="93" x="179.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="79" x="186.5" y="22.9951">middleware</text><polygon fill="#A80036" points="216,171.3594,226,175.3594,216,179.3594,220,175.3594" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="51" x2="222" y1="175.3594" y2="175.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="143" x="64" y="64.3638">HTTPS GET /publish</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="149" y="79.4966">id</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="44" x="163" y="79.4966">: string</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="49" x="114" y="94.6294">apikey</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="44" x="163" y="94.6294">: string</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="15" x="148" y="109.7622">to</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="44" x="163" y="109.7622">: string</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="54" x="109" y="124.895">subject</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="44" x="163" y="124.895">: string</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="105" x="58" y="140.0278">message-type</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="44" x="163" y="140.0278">: string</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="94" x="69" y="155.1606">content-type</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="44" x="163" y="155.1606">: string</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="67" x="96" y="170.2935">message</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="44" x="163" y="170.2935">: string</text><path d="M13,190.3594 L111,190.3594 L111,197.3594 L101,207.3594 L13,207.3594 L13,190.3594 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="31.1328" style="stroke: #000000; stroke-width: 2.0;" width="273.5" x="13" y="190.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="53" x="28" y="203.4263">200 OK</text><polygon fill="#A80036" points="62,209.4922,52,213.4922,62,217.4922,58,213.4922" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="56" x2="227" y1="213.4922" y2="213.4922"/><polygon fill="#A80036" points="216,394.6875,226,398.6875,216,402.6875,220,398.6875" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="51" x2="222" y1="398.6875" y2="398.6875"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="153" x="58" y="272.5591">HTTPS POST /publish</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="153" y="287.6919">id</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="44" x="167" y="287.6919">: string</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="49" x="118" y="302.8247">apikey</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="44" x="167" y="302.8247">: string</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="15" x="152" y="317.9575">to</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="44" x="167" y="317.9575">: string</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="54" x="113" y="333.0903">subject</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="44" x="167" y="333.0903">: string</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="105" x="62" y="348.2231">message-type</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="44" x="167" y="348.2231">: string</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="94" x="73" y="363.356">content-type</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="44" x="167" y="363.356">: string</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="211" y="378.4888"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="149" x="62" y="393.6216">&lt;message in body&gt;</text><path d="M13,413.6875 L111,413.6875 L111,420.6875 L101,430.6875 L13,430.6875 L13,413.6875 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="31.1328" style="stroke: #000000; stroke-width: 2.0;" width="273.5" x="13" y="413.6875"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="53" x="28" y="426.7544">200 OK</text><polygon fill="#A80036" points="62,432.8203,52,436.8203,62,440.8203,58,436.8203" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="56" x2="227" y1="436.8203" y2="436.8203"/><!--
@startuml
hide footbox

entity -> middleware: **HTTPS GET /publish**\r**id**: string\r**apikey**: string\r**to**: string\r**subject**: string\r**message-type**: string\r**content-type**: string\r**message**: string
group 200 OK
middleware -> entity:
end

...

entity -> middleware: **HTTPS POST /publish**\r**id**: string\r**apikey**: string\r**to**: string\r**subject**: string\r**message-type**: string\r**content-type**: string\r\r**<message in body>**
group 200 OK
middleware -> entity:
end
@enduml

PlantUML version 1.2018.13(Mon Nov 26 17:11:51 UTC 2018)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.7.0_25-b15
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>